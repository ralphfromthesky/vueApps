import{_ as S,r as u,d as k,w as f,o as d,c as v,a,k as L,t as h,m as A,q as C,s as x,e as g,x as y,F as N,g as V,y as _,n as U,u as B,p as D,b as p}from"./index-03009b11.js";const T={name:"music-player",emits:["showSonglist","next","prev","playThisAudio"],props:["song","artist","img","audio","currentIndex","musicList","playAudio"],setup(s){const i=u(!1),n=u(null),e=u(""),r=u(!0),c=u(!1),o=()=>{n.value.currentTime=0,n.value.pause(),i.value=!1},t=()=>{s.currentIndex<s.musicList.length-1?(s.playAudio(s.musicList[s.currentIndex+1].title,s.musicList[s.currentIndex+1].artist,s.musicList[s.currentIndex+1].img,s.musicList[s.currentIndex+1].audioUrl),n.value.play()):(s.playAudio(s.musicList[0].title,s.musicList[0].artist,s.musicList[0].img,s.musicList[0].audioUrl),n.value.play())};k(()=>{n.value.addEventListener("ended",t)});const m=()=>{i.value=!i.value;const l=document.getElementById("audioPlayer");i.value?(l.play(),r.value=!1,c.value=!0):(l.pause(),r.value=!0,c.value=!1)};return f(()=>s.currentIndex,l=>{o(),s.playAudio(s.musicList[l].title,s.musicList[l].artist,s.musicList[l].img,s.musicList[l].audioUrl)}),f(e,l=>{}),{playPause:m,isPlaying:i,continuesPlay:t,audioPlayer:n,resetAudio:o,bgImage:e,hidePlay:r,hidePause:c}}},E={class:"songList"},M={class:"playButton"},j={class:"songDetails"},z={class:"audioDivs"},F=["src"],q={class:"controls"};function Y(s,i,n,e,r,c){return d(),v("div",null,[a("div",{class:"main-container",style:A({backgroundImage:`url(${n.img})`})},[a("div",E,[a("i",{class:"bx bx-menu",onClick:i[0]||(i[0]=o=>s.$emit("showSonglist"))})]),a("div",M,[e.hidePlay?(d(),v("i",{key:0,class:"bx bx-play-circle",onClick:i[1]||(i[1]=o=>e.playPause())})):L("",!0),e.hidePause?(d(),v("i",{key:1,class:"bx bx-pause-circle",onClick:i[2]||(i[2]=o=>e.playPause())})):L("",!0)]),a("div",j,[a("div",null,[a("h3",null,h(n.song)+" - "+h(n.artist),1)]),a("div",z,[a("audio",{id:"audioPlayer",controls:"true",preload:"auto",ref:"audioPlayer",src:n.audio,onEnded:i[3]||(i[3]=(...o)=>e.continuesPlay&&e.continuesPlay(...o))},null,40,F)]),a("div",q,[a("i",{class:"bx bx-skip-previous-circle",onClick:i[4]||(i[4]=o=>s.$emit("prev"))}),a("i",{class:"bx bx-skip-next-circle",onClick:i[5]||(i[5]=o=>s.$emit("next"))})])])],4)])}const G=S(T,[["render",Y],["__scopeId","data-v-b676c3cd"]]),H={components:{musicSongPlayerVue:G},name:"song-list",emits:["showSongPlayer"],setup(){const s=u(""),i=u(""),n=u(""),e=u(0),r=u(null),c=u(!1),o=u(!0),t=C("musicList"),m=u(!0),l=(P,w,I,b)=>{s.value=P,i.value=w,r.value=I,n.value=b,m.value=!1};return{songName:s,songImg:r,artistName:i,musicList:t,showSongPlayer:c,showSongList:o,playAudio:l,nextSong:()=>{e.value<t.value.length-1?(e.value+=1,console.log("paying next:"+e.value),l(t.value[e.value].title,t.value[e.value].artist,t.value[e.value].img,t.value[e.value].audioUrl)):e.value=0,l(t.value[e.value].title,t.value[e.value].artist,t.value[e.value].img,t.value[e.value].audioUrl)},currentIndex:e,prevSong:()=>{e.value>0?(e.value-=1,console.log("paying prev:"+e.value)):e.value=t.value.length-1,l(t.value[e.value].title,t.value[e.value].artist,t.value[e.value].img,t.value[e.value].audioUrl)},audioSrc:n,arrow:m}}},J={class:"goToMusicPlayer"},K=["onClick"];function O(s,i,n,e,r,c){const o=x("musicSongPlayerVue");return d(),v("div",null,[a("div",J,[g(a("i",{class:"bx bx-caret-right",onClick:i[0]||(i[0]=t=>(e.showSongPlayer=!0,e.showSongList=!1,e.arrow=!1))},null,512),[[y,e.arrow]])]),(d(!0),v(N,null,V(e.musicList,t=>g((d(),v("div",{class:"musicSongList-container",key:t},[a("h3",{onClick:m=>(e.showSongPlayer=!0,e.showSongList=!1,e.playAudio(t.title,t.artist,t.img,t.audioUrl))},h(t.title),9,K)])),[[y,e.showSongList]])),128)),g(_(o,{onShowSonglist:i[1]||(i[1]=t=>(e.showSongList=!0,e.showSongPlayer=!1,e.arrow=!0)),song:e.songName,artist:e.artistName,img:e.songImg,audio:e.audioSrc,songList:e.musicList[e.currentIndex],currentIndex:e.currentIndex,musicList:e.musicList,onNext:e.nextSong,onPrev:e.prevSong,onPlayThisAudio:e.playAudio,playAudio:e.playAudio},null,8,["song","artist","img","audio","songList","currentIndex","musicList","onNext","onPrev","onPlayThisAudio","playAudio"]),[[y,e.showSongPlayer]])])}const Q=S(H,[["render",O],["__scopeId","data-v-cce61312"]]),R={name:"music-app",components:{musicSongListVue:Q},setup(){return{store:B()}}},W=s=>(D("data-v-a1b7014a"),s=s(),p(),s),X={class:"music-app-container"},Z=W(()=>a("div",{class:"description"},[a("h3",null,"Description:"),a("br"),a("p",null," Discover and enjoy your favorite music with our easy-to-use app. Browse songs, switch tracks, and immerse yourself in the world of music effortlessly. Your go-to companion for all your musical moments. "),a("br"),a("h3",null," Using Compostion API, ref, watch, component events-emits, onMounted and props. ")],-1));function $(s,i,n,e,r,c){const o=x("musicSongListVue");return d(),v("div",X,[a("div",{class:U(["main-container",{night:e.store.state.isNight,light:!e.store.state.isNight}])},[_(o)],2),Z])}const te=S(R,[["render",$],["__scopeId","data-v-a1b7014a"]]);export{te as default};
